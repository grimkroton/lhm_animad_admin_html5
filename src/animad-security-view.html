<html><head></head><body><div hidden="" by-polymer-bundler=""><script>CommonSecurityMixin=function(a){return function(a){function b(){babelHelpers.classCallCheck(this,b);var a=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._boundListener=a._customeventlistener.bind(a),a}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'properties',get:function(){return{permission:{type:String},_security:{type:Object,value:function(){return document.querySelector('#animad_security')},notify:!0},allowed:{type:Boolean,value:!1,notify:!0,observer:'_allowedChanged'}}}}]),babelHelpers.createClass(b,[{key:'connectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'connectedCallback',this).call(this),this.checkPermissions(),window.addEventListener('permissionsReceived',this._boundListener)}},{key:'checkPermissions',value:function(){return this.allowed=this._security.checkPermissions(this.permission),this.allowed}},{key:'_customeventlistener',value:function(){console.log('Custom Event Listener in Security-Mixin called.'),this.notifyPath('_security.permissions'),this.checkPermissions()}},{key:'_allowedChanged',value:function(){}}]),b}(a)};</script><dom-module id="common-security-authorize" assetpath="common-security/"><template><style></style><dom-if if="{{allowed}}"><slot></slot></dom-if></template><script>var CommonSecurityAuthorize=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'common-security-authorize'}}]),b}(CommonSecurityMixin(Polymer.Element));customElements.define(CommonSecurityAuthorize.is,CommonSecurityAuthorize);</script></dom-module><dom-module id="common-security-check" assetpath="common-security/"><template><style></style></template><script>var CommonSecurityCheck=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'common-security-check'}}]),b}(CommonSecurityMixin(Polymer.Element));customElements.define(CommonSecurityCheck.is,CommonSecurityCheck);</script></dom-module><dom-module id="secure-paper-input" assetpath="common-security/"><script>var SecurePaperInput=function(a){function b(){babelHelpers.classCallCheck(this,b);var a=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._evaluateAllowed(),a}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'secure-paper-input'}}]),babelHelpers.createClass(b,[{key:'_allowedChanged',value:function(){this._evaluateAllowed()}},{key:'_evaluateAllowed',value:function(){this.readonly=!this.allowed}}]),b}(CommonSecurityMixin(customElements.get('paper-input')));customElements.define(SecurePaperInput.is,SecurePaperInput);</script></dom-module></div><dom-module id="animad-security-view"><template><style include="shared-styles">:host{display:block;padding:10px;}</style><div class="card"><div class="circle"><iron-icon icon="animad-icons:basecamp"></iron-icon></div><h1>Security view</h1><p>Zeigt die verschiedenen Einbindungsarten der Security-Components.</p><iron-form id="create-form"><form action="http://httpbin.org/get" method="get"><p>Der folgende Text ist nur zu sehen, wenn der aktuelle User Permission=RESOURCE1 hat:<common-security-authorize permission="RESOURCE1">Text für RESOURCE1</common-security-authorize></p><p><common-security-check permission="RESOURCE2" allowed="{{allowed}}"></common-security-check><paper-input id="prefill-change-example" label="Bei diesem Feld ändert sich die Vorbefüllung von (keine Angabe) zu (berechtigt) bei Permission=RESOURCE2" value="{{prefill}}"></paper-input></p><p><secure-paper-input id="readonly-example" permission="RESOURCE3" label="Feld ist readonly, außer bei Permission=RESOURCE3" value="Vorbefüllung"></secure-paper-input></p><br><br><paper-button raised="">Submit</paper-button></form></iron-form></div></template><script>var AnimadSecurityView=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_activeChanged',value:function(){this.allowed&&(this.prefill='(berechtigt)')}}],[{key:'is',get:function(){return'animad-security-view'}},{key:'properties',get:function(){return{prefill:{type:String,value:'keine Angabe'},allowed:{type:Boolean,value:!1,observer:'_activeChanged'}}}}]),b}(Polymer.Element);window.customElements.define(AnimadSecurityView.is,AnimadSecurityView);</script></dom-module></body></html>